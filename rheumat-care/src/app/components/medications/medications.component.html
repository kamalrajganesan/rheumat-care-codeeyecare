<h2>Current systemic medications <span class="small">(tick all applicable)</span></h2>
<form [formGroup]="medicationsForm">
  <div class="checks">
    <label *ngFor="let medication of medications" class="check">
      <input
        type="checkbox"
        [checked]="isMedicationChecked(medication)"
        (change)="onMedicationChange(medication, $event)"
      />
      <span>{{ medication }}</span>
    </label>
  </div>

  <div *ngIf="showDoseDetails()" class="dose-details">
    <div class="divider"></div>
    <h2>Dose details (only for selected meds)</h2>

    <div *ngIf="showSteroidDose()">
      <label for="steroidDose">Systemic steroid dose / regimen</label>
      <input
        type="text"
        id="steroidDose"
        formControlName="steroidDose"
        placeholder="e.g., Prednisolone 10 mg OD / 5 mg alternate day"
      />
    </div>

    <div *ngIf="showMethotrexateDose()">
      <label for="methotrexateDose">Methotrexate dose (mg/week)</label>
      <input
        type="number"
        id="methotrexateDose"
        formControlName="methotrexateDose"
        min="0"
        step="0.5"
      />
    </div>

    <div *ngIf="showHCQDose()">
      <div class="row">
        <div>
          <label for="hcqDailyDose">HCQ daily dose (mg/day)</label>
          <select id="hcqDailyDose" formControlName="hcqDailyDose">
            <option [value]="null">Selectâ€¦</option>
            <option *ngFor="let dose of hcqDailyDoses" [value]="dose">{{ dose }}</option>
          </select>
        </div>
        <div>
          <label for="hcqTotalMonths">HCQ total duration (months)</label>
          <input
            type="number"
            id="hcqTotalMonths"
            formControlName="hcqTotalMonths"
            min="0"
            step="1"
          />
        </div>
      </div>
      <div class="small mono">Cumulative dose: {{ hcqCumulativeDose }}</div>
    </div>

    <label for="otherMedDetails">Other medication details</label>
    <textarea id="otherMedDetails" formControlName="otherMedDetails"></textarea>
  </div>
</form>
